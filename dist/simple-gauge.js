"use strict";var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var SimpleGauge=function(){var t=.05,i=10,n=40,e=500,a=3e3,f=function(t){return 360*t*Math.PI/180},r=function(){function n(t,e,i){if(_classCallCheck(this,n),!t)throw new Error("The element must be valid.");this._el=t,this._length=e,this._radius=i,this._initialize()}return _createClass(n,[{key:"update",value:function(n){var r=this;this._el.transition().delay(e).ease(d3.easeElastic).duration(a).selectAll(".needle").tween("progress",function(){var i=this;return function(t){var e=t*n;return d3.select(i).attr("d",r._getPath(e))}})}},{key:"_initialize",value:function(){this._el.append("circle").attr("class","needle-center").attr("cx",0).attr("cy",0).attr("r",this._radius),this._el.append("path").attr("class","needle").attr("d",this._getPath(0))}},{key:"_getPath",value:function(t){var e=Math.PI/2,i=f(t/2),n=0-this._length*Math.cos(i),r=0-this._length*Math.sin(i);return"M "+(0-this._radius*Math.cos(i-e))+" "+(0-this._radius*Math.sin(i-e))+" L "+n+" "+r+" L "+(0-this._radius*Math.cos(i+e))+" "+(0-this._radius*Math.sin(i+e))}}]),n}();return function(){function e(t){if(_classCallCheck(this,e),!t.el)throw new Error("The element must be valid.");if(isNaN(t.width)||t.width<=0)throw new RangeError("The width must be a positive number.");if(isNaN(t.height)||t.height<=0)throw new RangeError("The height must be a positive number.");if(isNaN(t.sectionsCount)||t.sectionsCount<=0)throw new RangeError("The sections count must be a positive number");if(void 0!==t.barWidth&&(isNaN(t.barWidth)||t.barWidth<=0))throw new RangeError("The bar width must be a positive number");this._el=t.el,this._width=t.width,this._height=t.height,this._sectionsCount=t.sectionsCount,this._barWidth=t.barWidth||n,this._percent=0,this._initialize()}return _createClass(e,[{key:"_initialize",value:function(){var h=this,o=1/this._sectionsCount/2,u=t,c=i,l=.75,d=Math.min(this._width,2*this._height)/2,_=this._el.append("g").attr("transform","translate("+this._width/2+", "+this._height+")");d3.range(1,this._sectionsCount+1).forEach(function(t,e){var i=f(l),n=i+f(o);l+=o;var r=0===e?0:u/2,a=e===h._sectionsCount?0:u/2,s=d3.arc().outerRadius(d-c).innerRadius(d-c-h._barWidth).startAngle(i+r).endAngle(n-a);_.append("path").attr("class","arc chart-color"+e).attr("d",s)}),this._needle=new r(_,.5*this._height,15)}},{key:"percent",get:function(){return this._percent},set:function(t){if(isNaN(t)||t<0||1<t)throw new RangeError("The percentage must be between 0 and 1.");this._percent=t,this._needle&&this._needle.update(this._percent)}}]),e}()}();