<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Example | D3 Simple Gauge</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
    }

    div {
      margin-bottom: 2em;
    }

    /* Fill color for the first group */
    .chart-color1 {
      fill: #dea82c;
    }

    /* Fill color for the second group */
    .chart-color2 {
      fill: #e9621a;
    }

    /* Fill color for the third group */
    .chart-color3 {
      fill: #e92213;
    }

    /* Fill color for the needle */
    .needle,
    .needle-center {
      fill: #464A4F;
    }
  </style>
</head>
<body>
<article>
  <h1>D3 Simple Gauge</h1>
  <div>
    <p>
      Needle position: <strong id="position">50%</strong>
    </p>
    <button>Change</button>
  </div>
</article>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.min.js"></script>
<script type="text/javascript" src="./d3-simple-gauge.js"></script>
<script>
  const svg = d3.select('body > article')
    .append('svg')
    .attr('width', 400)
    .attr('height', 250);

  const simpleGauge = new window.d3SimpleGauge.SimpleGauge({
    animationDelay: 0,          // The delay in ms before to play the needle animation (optional)
    animationDuration: 3000,    // The duration in ms of the needle animation (optional)
    barWidth: 40,               // The bar width of the gauge (optional)
    easeType: d3.easeElastic,   // The ease type to use with the needle animation (optional)
    el: svg.append('g'),        // The element that hosts the gauge
    height: 200,                // The height of the gauge
    percent: 0.5,               // The initial percentage of he needle (optional)
    sectionsCount: 3,           // The number of sections in the gauge
    width: 400                  // The width of the gauge
  });

  d3.select('button')
    .on('click', () => {
      simpleGauge.percent = Math.random();
      d3.select('#position').text(d3.format(".0%")(simpleGauge.percent));
    });
</script>
</body>
</html>
